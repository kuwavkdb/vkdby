<%= form_with(model: [:admin, unit, unit_person], class: "space-y-4") do |form| %>
  <div class="grid grid-cols-6 gap-4">
    <div class="col-span-3 sm:col-span-1">
      <%= form.label :period, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= form.number_field :period, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
    </div>

    <div class="col-span-3 sm:col-span-1">
      <%= form.label :order_in_period, "Order", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= form.number_field :order_in_period, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
    </div>

    <div class="col-span-6 sm:col-span-2">
      <%= form.label :person_id, "Person (ID)", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= form.text_field :person_id, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white", placeholder: "Optional ID" %>
    </div>

    <div class="col-span-6 sm:col-span-2">
      <%= form.label :part, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= form.select :part, UnitPerson.parts.keys.map { |k| [k.humanize, k] }, {}, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
    </div>
    
     <div class="col-span-6 sm:col-span-3">
      <%= form.label :person_name, "Person Name", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= form.text_field :person_name, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
    </div>
    
     <div class="col-span-6 sm:col-span-3">
      <%= form.label :person_key, "Person Key", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= form.text_field :person_key, readonly: unit_person.person_id.present?, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white #{unit_person.person_id.present? ? 'bg-gray-100 dark:bg-gray-800 cursor-not-allowed' : ''}" %>
    </div>

    <div class="col-span-6">
      <%= form.label :status, class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <div class="mt-2 flex flex-wrap gap-4">
        <% UnitPerson.statuses.keys.each do |status| %>
          <label class="inline-flex items-center">
            <%= form.radio_button :status, status, class: "form-radio text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:bg-gray-700 dark:border-gray-600" %>
            <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"><%= status.humanize %></span>
          </label>
        <% end %>
      </div>
    </div>
  </div>

  <div class="flex justify-end pt-4">
    <%= form.submit class: "inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2" %>
  </div>
<% end %>
